{% assign retentionUser = "false" %}
{% if customer %}
{% assign meta = customer.metafields.skinidentity %}
{% if customer.total_spent > 0 %}
{% assign retentionUser = "true" %}
{% endif %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
    var products = {};
    var shopType, faceserum, bodylotion, bodywash, faceserum_men, salicylic_facemask, alpha_arbutin_facemask, niacinamide_facemask, ferulic_facemask;
    {% paginate collections.all.products by 700 %}
    {% for product in collections.all.products %}
    products["{{product.id}}"] = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    };
    {% if product.type == "faceserum" and product.title == "Daily Reparative Facial Serum" %}
    faceserum = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: 499
    }
    {% endif %}
    {% if product.type == "faceserum_men" %}
    faceserum_men = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% if product.type == "Bodylotion" %}
    bodylotion = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% if product.type == "Bodywash" %}
    bodywash = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% if product.type == "Face Mask" %}
    {% if product.title contains 'Salicylic Acid' %}
    salicylic_facemask = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% if product.title contains 'Alpha Arbutin Gleam' %}
    alpha_arbutin_facemask = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% if product.title contains 'Niacinamide with Peptide' %}
    niacinamide_facemask = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% if product.title contains 'Ferulic Acid' %}
    ferulic_facemask = {
        title: "{{product.title}}",
        image: "{{ product.featured_image | product_img_url: "grande" }}",
        url: "{{product.url}}",
        type: "{{ product.type }}",
        variant: "{{ product.first_available_variant.id }}",
        id: "{{product.id}}",
        price: "{{ product.price | money_without_trailing_zeros }}",
        retPrice: "{{ product.metafields.skinidentity.retention_price }}"
    }
    {% endif %}
    {% endif %}
    {% endfor %}
    {% endpaginate %}
    window.headerIdentifier = "{{ meta.aws_identifier }}";
    {% if shop.permanent_domain == "skin-identity.myshopify.com" %}
    shopType = "Live"
    {% else %}
    shopType = "Dev"
    {% endif %}
</script>
{{ 'subscriptions.js' | asset_url | script_tag }}
<div class="logo">
    <div class="container">
        <img class="js-lazy-image"
            data-src="https://cdn.shopify.com/s/files/1/2028/2057/files/sk-logo-new.png?1909493955838315023" />
    </div>
</div>
<div class="rte container">
    <div class="hero">
        <h2>Buy any 3 SkinKraft Products at â‚¹999 only</h2>
        <p>Choose Your Favourite SkinKraft Product</p>
    </div>
    <div id="freeproduct" style="display:none;"></div>
    <div class="prods">
        <div id="cleanser" class="gridproduct">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product cleanser" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="cleanserQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="moisturizer" class="gridproduct">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product repair" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="repairQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="activea" class="gridproduct" style="display: none">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product active" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="activeQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="sunscreen" class="gridproduct" style="display: none">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product sunscreen" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="faceserum" class="gridproduct" style="display: block">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product faceserum" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="faceserumQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="bodywash" class="gridproduct" style="display: block">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product bodywash" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="bodywashQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="bodylotion" class="gridproduct" style="display: block">
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product bodylotion" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="bodylotionQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="salicylic_facemask" class="gridproduct" style="display: block">
            <div class="ribbon ribbon-top-left"><span>new</span></div>
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product salicylic_facemask" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="salicylic_facemaskQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="alpha_arbutin_facemask" class="gridproduct" style="display: block">
            <div class="ribbon ribbon-top-left"><span>new</span></div>
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product alpha_arbutin_facemask" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="alpha_arbutin_facemaskQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="niacinamide_facemask" class="gridproduct" style="display: block">
            <div class="ribbon ribbon-top-left"><span>new</span></div>
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product niacinamide_facemask" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="niacinamide_facemaskQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="ferulic_facemask" class="gridproduct" style="display: block">
            <div class="ribbon ribbon-top-left"><span>new</span></div>
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product ferulic_facemask" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="ferulic_facemaskQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div id="repair_eyegel" class="gridproduct" style="display: none">
            <div class="ribbon ribbon-top-left"><span>new</span></div>
            <label>
                <div class="image"><img src="" /></div>
                <div>
                    <div class="title"></div>
                    <input type="checkbox" class="product repair_eyegel" value="0">
                    <div class="slashPrice">
                        <div class="slash"><s></s></div>
                        <div class="ret"></div>
                    </div>
                    <div id="qty">
                        <span>Qty </span>
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()"
                                class="minus quantityChange">-</button>
                            <input class="quantity" min="0" max="5" name="quantity" value="0" type="number"
                                id="repair_eyegelQty" readonly>
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()"
                                class="plus quantityChange">+</button>
                        </div>
                    </div>
                    <span class="select_mark">Add To Cart</span>
                </div>
            </label>
        </div>
        <div class="notification" style="display:none;">Your customized sunscreen was added to cart!</div>
        <div class="notification" style="display:none;">Offer will be applied at checkout!</div>
    </div>
    <div class="container">
        <div class="total_value">
            <div class="cart">
                <img src="https://cdn.shopify.com/s/files/1/2028/2057/files/cart_icon_white.png?v=1620381609" alt="">
                {% comment %}
                <div class="amount"><input readonly type="text" name="total" value="0" id="total" /></div>
                {% endcomment %}
                <div class="items"><span></span> Items</div>
            </div>
            <a href="#" class="confirm_button">Proceed to cart <img
                    src="https://cdn.shopify.com/s/files/1/2028/2057/files/arrow.png?v=1613689124" alt=""></a>
        </div>
    </div>
</div>
<script type="text/javascript">
    function getCookie(name) {
        name = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) === ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) === 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }
    function setCookie(name, value, days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }
    function getParameterByName(name, url) {
        if (!url)
            url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results)
            return '';
        if (!results[2])
            return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }
    getProdUpdates().then(function (updates) {
        getProducts().then(function (recos) {
            // if (recos === null) window.location.href = '/pages/subscription';
            for (var i = 0; i < recos.length; i++) {
                switch (products[recos[i].productId].type) {
                    case "Active":
                    case "faceserum":
                    case "faceserum_men":
                        window.active = products[recos[i].productId];
                        if (updates[recos[i].productId]) {
                            console.log(recos[i].productId)
                            window.active = products[updates[recos[i].productId]]
                        }
                        break;
                    case "Cleanser":
                        window.cleanser = products[recos[i].productId];
                        if (updates[recos[i].productId]) {
                            console.log(recos[i].productId)
                            window.cleanser = products[updates[recos[i].productId]]
                        }
                        break;
                    case "Repair Cream/Moisturiser":
                        window.repair = products[recos[i].productId];
                        if (updates[recos[i].productId]) {
                            console.log(recos[i].productId)
                            window.repair = products[updates[recos[i].productId]]
                        }
                        break;
                    default:
                        break;
                }
            }
            if (document.querySelector('.prods')) {
                fillPage();
            }
        });
    });
    function fillPage() {
        document.querySelector('#cleanser .title').innerHTML = cleanser.title;
        document.querySelector('#cleanser .image img').src = cleanser.image;
        document.querySelector('#cleanser .slashPrice .slash s').innerHTML = cleanser.price;
        document.querySelector('#cleanser .slashPrice .ret').innerHTML = "â‚¹" + parseInt(cleanser.retPrice);
        document.querySelector('#moisturizer .title').innerHTML = repair.title;
        document.querySelector('#moisturizer .image img').src = repair.image;
        document.querySelector('#moisturizer .slashPrice .slash s').innerHTML = repair.price;
        document.querySelector('#moisturizer .slashPrice .ret').innerHTML = "â‚¹" + parseInt(repair.retPrice);
        if (window.active) {
            document.querySelector('#activea').style.display = "block";
            document.querySelector('#activea .title').innerHTML = active.title;
            document.querySelector('#activea .image img').src = active.image;
            document.querySelector('#activea .slashPrice .slash s').innerHTML = active.price;
            document.querySelector('#activea .slashPrice .ret').innerHTML = "â‚¹" + parseInt(active.retPrice);
        }
    }
    document.addEventListener('DOMContentLoaded', function () {
        getSPQs("latest").then(function (spq) {
            if (spq && spq['question1g'] === "Male") {
                faceserum = faceserum_men;
                document.querySelector('#faceserum .title').innerHTML = faceserum.title;
                document.querySelector('#faceserum .image img').src = faceserum.image;
            }
        })
        document.querySelector('#faceserum .title').innerHTML = faceserum.title;
        document.querySelector('#faceserum .image img').src = faceserum.image;
        document.querySelector('#faceserum .slashPrice .slash s').innerHTML = faceserum.price;
        document.querySelector('#faceserum .slashPrice .ret').innerHTML = "â‚¹" + parseInt(faceserum.retPrice);

        document.querySelector('#bodywash .title').innerHTML = bodywash.title;
        document.querySelector('#bodywash .image img').src = bodywash.image;
        document.querySelector('#bodywash .slashPrice .slash s').innerHTML = bodywash.price;
        document.querySelector('#bodywash .slashPrice .ret').innerHTML = "â‚¹" + parseInt(bodywash.retPrice);

        document.querySelector('#bodylotion .title').innerHTML = bodylotion.title;
        document.querySelector('#bodylotion .image img').src = bodylotion.image;
        document.querySelector('#bodylotion .slashPrice .slash s').innerHTML = bodylotion.price;
        document.querySelector('#bodylotion .slashPrice .ret').innerHTML = "â‚¹" + parseInt(bodylotion.retPrice);

        document.querySelector('#salicylic_facemask .title').innerHTML = salicylic_facemask.title;
        document.querySelector('#salicylic_facemask .image img').src = salicylic_facemask.image;
        document.querySelector('#salicylic_facemask .slashPrice .slash s').innerHTML = salicylic_facemask.price;
        document.querySelector('#salicylic_facemask .slashPrice .ret').innerHTML = "â‚¹" + parseInt(salicylic_facemask.retPrice);

        document.querySelector('#alpha_arbutin_facemask .title').innerHTML = alpha_arbutin_facemask.title;
        document.querySelector('#alpha_arbutin_facemask .image img').src = alpha_arbutin_facemask.image;
        document.querySelector('#alpha_arbutin_facemask .slashPrice .slash s').innerHTML = alpha_arbutin_facemask.price;
        document.querySelector('#alpha_arbutin_facemask .slashPrice .ret').innerHTML = "â‚¹" + parseInt(alpha_arbutin_facemask.retPrice);

        document.querySelector('#niacinamide_facemask .title').innerHTML = niacinamide_facemask.title;
        document.querySelector('#niacinamide_facemask .image img').src = niacinamide_facemask.image;
        document.querySelector('#niacinamide_facemask .slashPrice .slash s').innerHTML = niacinamide_facemask.price;
        document.querySelector('#niacinamide_facemask .slashPrice .ret').innerHTML = "â‚¹" + parseInt(niacinamide_facemask.retPrice);

        document.querySelector('#ferulic_facemask .title').innerHTML = ferulic_facemask.title;
        document.querySelector('#ferulic_facemask .image img').src = ferulic_facemask.image;
        document.querySelector('#ferulic_facemask .slashPrice .slash s').innerHTML = ferulic_facemask.price;
        document.querySelector('#ferulic_facemask .slashPrice .ret').innerHTML = "â‚¹" + parseInt(ferulic_facemask.retPrice);

        setTimeout(() => {
            if ($(".product.activee").length > 0) $(".total_value").css("display", "grid");
            $(".items span").html(localStorage.totalCount);
            jQuery('.activee').parents(".gridproduct").find(".select_mark").html(`Added To Cart`);
        }, 1000);
    })

    //Onclick Add To Cart Button
    jQuery('.select_mark').click(function () {
        if (!$(this).prop("disabled")) {
            jQuery(this).siblings('#qty').find(".number-input input").val(1);
            $(this).attr("disabled", 'disabled').css('pointer-events', 'none');
            jQuery(this).siblings('.product').addClass('activee');
            jQuery(this).parents('.gridproduct').find('label').addClass('border_blue');
            $(".items span").html($(".activee").length);
            jQuery(this).html(`Added To Cart`).css("background", '#888888');
            if ($(".prods .activee").length > 0) $(".total_value").css("display", "grid");
            if ($(this).siblings('.product').hasClass('cleanser')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#cleanserQty').val(),
                    id: cleanser.variant,
                    properties: {
                        refill: true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('repair')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#repairQty').val(),
                    id: repair.variant,
                    properties: {
                        refill: true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('active')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#activeQty').val(),
                    id: active.variant
                });
            }
            else if ($(this).siblings('.product').hasClass('faceserum')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#faceserumQty').val(),
                    id: faceserum.variant,
                    properties: {
                        'bestseller': true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('bodywash')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#bodywashQty').val(),
                    id: bodywash.variant,
                    properties: {
                        'addon': true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('bodylotion')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#bodylotionQty').val(),
                    id: bodylotion.variant,
                    properties: {
                        'addon': true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('salicylic_facemask')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#salicylic_facemaskQty').val(),
                    id: salicylic_facemask.variant,
                    properties: {
                        bestseller: true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('alpha_arbutin_facemask')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#alpha_arbutin_facemaskQty').val(),
                    id: alpha_arbutin_facemask.variant,
                    properties: {
                        bestseller: true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('niacinamide_facemask')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#niacinamide_facemaskQty').val(),
                    id: niacinamide_facemask.variant,
                    properties: {
                        bestseller: true
                    }
                });
            }
            else if ($(this).siblings('.product').hasClass('ferulic_facemask')) {
                jQuery.post('/cart/add.js', {
                    quantity: $('#ferulic_facemaskQty').val(),
                    id: ferulic_facemask.variant,
                    properties: {
                        bestseller: true
                    }
                });
            }
        }
    });

    //Onclick Qunatity Change(+/-) Update the Cart
    $('#cleanser .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#cleanserQty').val(),
                id: cleanser.variant,
                properties: {
                    refill: true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#cleanserQty').val(),
                id: cleanser.variant,
                properties: {
                    refill: true
                }
            });
        }
    })
    $('#moisturizer .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#repairQty').val(),
                id: repair.variant,
                properties: {
                    refill: true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#repairQty').val(),
                id: repair.variant,
                properties: {
                    refill: true
                }
            });
        }
    })
    $('#activea .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#activeQty').val(),
                id: active.variant
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#activeQty').val(),
                id: active.variant
            });
        }
    })
    $('#faceserum .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#faceserumQty').val(),
                id: faceserum.variant,
                properties: {
                    'bestseller': true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#faceserumQty').val(),
                id: faceserum.variant,
                properties: {
                    'bestseller': true
                }
            });
        }
    })
    $('#bodywash .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#bodywashQty').val(),
                id: bodywash.variant,
                properties: {
                    'addon': true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#bodywashQty').val(),
                id: bodywash.variant,
                properties: {
                    'addon': true
                }
            });
        }
    })
    $('#bodylotion .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#bodylotionQty').val(),
                id: bodylotion.variant,
                properties: {
                    'addon': true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#bodylotionQty').val(),
                id: bodylotion.variant,
                properties: {
                    'addon': true
                }
            });
        }
    })
    $('#salicylic_facemask .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#salicylic_facemaskQty').val(),
                id: salicylic_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#salicylic_facemaskQty').val(),
                id: salicylic_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        }
    })
    $('#alpha_arbutin_facemask .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#alpha_arbutin_facemaskQty').val(),
                id: alpha_arbutin_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#alpha_arbutin_facemaskQty').val(),
                id: alpha_arbutin_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        }
    })
    $('#niacinamide_facemask .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#niacinamide_facemaskQty').val(),
                id: niacinamide_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#niacinamide_facemaskQty').val(),
                id: niacinamide_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        }
    })
    $('#ferulic_facemask .quantityChange').click(function () {
        if ($(this).hasClass('plus')) {
            jQuery.post('/cart/add.js', {
                quantity: $('#ferulic_facemaskQty').val(),
                id: ferulic_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        } else {
            jQuery.post('/cart/change.js', {
                quantity: $('#ferulic_facemaskQty').val(),
                id: ferulic_facemask.variant,
                properties: {
                    bestseller: true
                }
            });
        }
    });

    //Onclick Qunatity Change(+/-) Updating the UI
    $('.quantityChange').on('click', function () {
        if ($(this).hasClass('plus')) {
            if ($(this).siblings('.quantity').val() > 0) {
                jQuery(this).parents('#qty').siblings(".select_mark").attr("disabled", 'disabled').css({ 'pointer-events': 'none', 'cursor': 'not-allowed' });
                jQuery(this).parents('#qty').siblings('.product').addClass('activee');
                jQuery(this).parents('.gridproduct').find('label').addClass('border_blue');
                $(".items span").html($(".activee").length);
                jQuery(this).parents('#qty').siblings(".select_mark").html(`Added To Cart`).css("background", '#888888');
                if ($(".prods .activee").length > 0) $(".total_value").css("display", "grid");
            }
        }
        if ($(this).hasClass('minus')) {
            if ($(this).siblings('.quantity').val() == 0) {
                jQuery(this).parents('#qty').siblings(".select_mark").html(`Add To Cart`).css("background", '#00AFC8');
                jQuery(this).parents('#qty').siblings(".select_mark").removeAttr("disabled").css({ 'pointer-events': 'auto', 'cursor': 'pointer' });
                jQuery(this).parents('#qty').siblings('.product').removeClass('activee');
                jQuery(this).parents('.gridproduct').find('label').removeClass('border_blue');
                if ($(".prods .activee").length == 0) $(".total_value").css("display", "none");
            };
        }
    })

    var isRetentionUser = `{{ retentionUser }}`;
    $('.confirm_button').click(function (e) {
        e.preventDefault();
        if (getCookie("freebie_renewal")) {
            $.ajax({
                type: 'GET',
                url: '/cart/',
                async: false,
                dataType: 'json',
                success: res => {
                    var itemtitlesarray = res.items.map((item) => item.product_type)
                    if (!itemtitlesarray.includes("Age Lock Serum")) {
                        var freeProduct = shopType == "Live" ? "39741405298861" : "39323913158771";
                        jQuery.post('/cart/add.js', {
                            quantity: 1,
                            id: freeProduct,
                            properties: {
                                freeproduct: true
                            }
                        }, function (data) {
                            location.href = "/cart"
                        }, "json");
                    }
                    else window.location.href = '/cart';
                }
            });
        }
        else window.location.href = '/cart';
    });
    setCookie('buy_any_three', true, 1);
    function qtycheck() {
        // if($(".cleanser").hasClass("activee"))  var a = document.getElementById("cleanserQty").value;
        // else a = 0 ;
        // if($(".repair").hasClass("activee"))  var b = document.getElementById("repairQty").value;
        // else b = 0 ;
        // if($(".active").hasClass("activee")) var c = document.getElementById("activeQty").value;
        // else c = 0 ;
        // if($(".faceserum").hasClass("activee")) var d = document.getElementById("faceserumQty").value;
        // else d = 0 ;
        // if($(".bodywash").hasClass("activee")) var e = document.getElementById("bodywashQty").value;
        // else e = 0 ;
        // if($(".bodylotion").hasClass("activee")) var f = document.getElementById("bodylotionQty").value;
        // else f = 0 ;
        // if($(".salicylic_facemask").hasClass("activee")) var g = document.getElementById("salicylic_facemaskQty").value;
        // else g = 0 ;
        // if($(".alpha_arbutin_facemask").hasClass("activee")) var h = document.getElementById("alpha_arbutin_facemaskQty").value;
        // else h = 0 ;
        // if($(".niacinamide_facemask").hasClass("activee")) var i = document.getElementById("niacinamide_facemaskQty").value;
        // else i = 0 ;
        // if($(".ferulic_facemask").hasClass("activee")) var j = document.getElementById("ferulic_facemaskQty").value;
        // else j = 0 ;
        // var totcount = parseInt(a)+parseInt(b)+parseInt(c)+parseInt(d)+parseInt(e)+parseInt(f)+parseInt(g)+parseInt(h)+parseInt(i)+parseInt(j);
        // document.querySelector(".items span").innerHTML=totcount;
        // localStorage.setItem("totalCount",totcount);

        var totcount = [...document.querySelectorAll('.product')]
            .filter(curr => curr.classList.contains("activee"))
            .map(x => x.nextElementSibling.nextElementSibling)
            .map(y => y.querySelector(".number-input input").value)
            .reduce((acc, curr) => acc + parseInt(curr), 0);
        document.querySelector(".items span").innerHTML = totcount;
        localStorage.setItem("totalCount", totcount);
    }
    $(window).on("click", function () { qtycheck() });
    // Onclick browser back button reload twice
    window.addEventListener("pageshow", function (event) {
        var perfEntries = performance.getEntriesByType("navigation");
        if (perfEntries[0].type === "back_forward") {
            location.reload();
        }
    });
    //Getting cart data and displayed as a selected product
    document.addEventListener('DOMContentLoaded', function () {
        $.ajax({
            type: 'GET',
            url: '/cart/',
            async: false,
            dataType: 'json',
            success: res => {
                setTimeout(() => {
                    if (res.item_count > 0) {
                        $(".total_value").css("display", "grid");
                        document.querySelector(".items span").innerHTML = res.item_count;
                        for (var i = 0; i < res.items.length; i++) {
                            console.log(res.items[i]);
                            if (res.items[i].product_type === "Cleanser") {
                                jQuery('.cleanser').addClass('activee');
                                jQuery('.cleanser').parentsUntil('.gridproduct').addClass('border_blue');
                                jQuery('.cleanser').prop('checked', true);
                                jQuery('.cleanser').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                $('#cleanserQty').val(res.items[i].quantity)
                            }
                            if (res.items[i].product_type.indexOf("Repair") > -1) {
                                jQuery('.repair').addClass('activee');
                                jQuery('.repair').parentsUntil('.gridproduct').addClass('border_blue');
                                jQuery('.repair').prop('checked', true);
                                jQuery('.repair').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                $('#repairQty').val(res.items[i].quantity)
                            }
                            if (res.items[i].product_type === ("Active")) {
                                jQuery('.active').addClass('activee');
                                jQuery('.active').parentsUntil('.gridproduct').addClass('border_blue');
                                jQuery('.active').prop('checked', true);
                                jQuery('.active').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                $('#activeQty').val(res.items[i].quantity)
                            }
                            if (res.items[i].product_type === ("faceserum") || res.items[i].product_type === ("faceserum_men")) {
                                jQuery('.faceserum').addClass('activee');
                                jQuery('.faceserum').parentsUntil('.gridproduct').addClass('border_blue');
                                jQuery('.faceserum').prop('checked', true);
                                jQuery('.faceserum').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                $('#faceserumQty').val(res.items[i].quantity)
                            }
                            if (res.items[i].product_type === ("Bodywash")) {
                                jQuery('.bodywash').addClass('activee');
                                jQuery('.bodywash').parentsUntil('.gridproduct').addClass('border_blue');
                                jQuery('.bodywash').prop('checked', true);
                                jQuery('.bodywash').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                $('#bodywashQty').val(res.items[i].quantity)
                            }
                            if (res.items[i].product_type === ("Bodylotion")) {
                                jQuery('.bodylotion').addClass('activee');
                                jQuery('.bodylotion').parentsUntil('.gridproduct').addClass('border_blue');
                                jQuery('.bodylotion').prop('checked', true);
                                jQuery('.bodylotion').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                $('#bodylotionQty').val(res.items[i].quantity)
                            }
                            if (res.items[i].product_type === ("Face Mask")) {
                                if (res.items[i].product_title.includes('Salicylic Acid')) {
                                    jQuery('.salicylic_facemask').addClass('activee');
                                    jQuery('.salicylic_facemask').parentsUntil('.gridproduct').addClass('border_blue');
                                    jQuery('.salicylic_facemask').prop('checked', true);
                                    jQuery('.salicylic_facemask').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                    $('#salicylic_facemaskQty').val(res.items[i].quantity)
                                }
                                if (res.items[i].product_title.includes('Alpha Arbutin Gleam')) {
                                    jQuery('.alpha_arbutin_facemask').addClass('activee');
                                    jQuery('.alpha_arbutin_facemask').parentsUntil('.gridproduct').addClass('border_blue');
                                    jQuery('.alpha_arbutin_facemask').prop('checked', true);
                                    jQuery('.alpha_arbutin_facemask').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                    $('#alpha_arbutin_facemaskQty').val(res.items[i].quantity)
                                }
                                if (res.items[i].product_title.includes('Niacinamide with Peptide')) {
                                    jQuery('.niacinamide_facemask').addClass('activee');
                                    jQuery('.niacinamide_facemask').parentsUntil('.gridproduct').addClass('border_blue');
                                    jQuery('.niacinamide_facemask').prop('checked', true);
                                    jQuery('.niacinamide_facemask').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                    $('#niacinamide_facemaskQty').val(res.items[i].quantity)
                                }
                                if (res.items[i].product_title.includes('Ferulic Acid')) {
                                    jQuery('.ferulic_facemask').addClass('activee');
                                    jQuery('.ferulic_facemask').parentsUntil('.gridproduct').addClass('border_blue');
                                    jQuery('.ferulic_facemask').prop('checked', true);
                                    jQuery('.ferulic_facemask').siblings('.select_mark').attr("disabled", 'disabled').css('pointer-events', 'none').html(`Added To Cart`).css("background", '#888888');
                                    $('#ferulic_facemaskQty').val(res.items[i].quantity)
                                }
                            }
                        }
                    }
                }, 1500);
            }
        });
    });
</script>

{% else %}
<script>window.location.href = '/account/login?checkout_url=' + encodeURIComponent(window.location.href)</script>
{% endif %}
<script>
        (function (h, o, t, j, a, r) {
            h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
            h._hjSettings = { hjid: 754168, hjsv: 6 };
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script'); r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
        })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
    setTimeout(function () {
        if (window.active && (window.active.type === "faceserum" || window.active.type === "faceserum_men")) $('div#activea').hide();
    }, 1000);
    if (window.userHasMembership == 'true') {
        $('div.prods div.gridproduct div.image img').after(`<p class="insiderDiscount_badge">20% OFF Blue Box Club Discount <span class="triangle_bottom"></span></p>`)
    }
</script>
<style>
    #shopify-section-header,
    #promo-bar {
        display: none;
    }

    p.insiderDiscount_badge {
        writing-mode: vertical-rl;
        text-orientation: mixed;
        -webkit-transform: rotate(180deg);
        position: absolute;
        right: 12px;
        top: 10px;
        font-size: 9px;
        margin: 0;
        background-color: #FFDE00;
        padding: 11px 3px 3px;
    }

    span.triangle_bottom {
        width: 0;
        height: 0;
        border-left: 9px solid transparent;
        border-right: 9px solid transparent;
        border-top: 8px solid #f3f5f7;
        position: absolute;
        top: -1px;
        right: 0;
    }

    main .logo {
        text-align: center;
        padding: 10px 0;
        box-shadow: 0 2px 4px #00000021;
    }

    main {
        padding-top: 0 !important;
    }

    main .hero {
        color: #3dafc8;
        padding: 15px 0px 5px;
        text-align: left;
    }

    main .hero h2 {
        font-size: 18px;
        margin-top: 0;
        font-weight: 600 !important;
        line-height: 26px;
        color: #000000DE;
        letter-spacing: 0.36px;
        margin-bottom: 5px;
        padding-right: 5px;
    }

    main .hero p {
        color: #333;
        font-size: 16px;
    }

    .gridproduct label .checkmark {
        position: relative;
        top: 0;
        left: 0;
        height: 25px;
        width: 25px;
        background-color: #eee;
        opacity: 0;
    }

    .gridproduct label input[type="checkbox"] {
        position: relative;
        opacity: 1;
        cursor: pointer;
        height: 1px;
        width: 1px;
        visibility: hidden;
    }

    input#total {
        border: 0;
        color: #333333;
        font-weight: 600;
        text-align: right;
        font-size: 20px;
        font-family: Aria;
    }

    main .rte {
        max-width: 450px;
        margin: 0 auto;
    }

    .prods {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-gap: 5px;
        padding-bottom: 100px;
        align-items: self-end;
    }

    a.confirm_button,
    a.go_back {
        color: #fff;
        padding: 10px;
        display: block;
        font-size: 12px;
        text-transform: capitalize;
        font-weight: 600;
        width: 100%;
        border-radius: 30px;
        letter-spacing: 0.5px;
    }

    div#shopify-section-footer {
        display: none;
    }

    div.gridproduct label {
        padding: 10px 0px 0;
    }

    /*Added active*/
    div.gridproduct label.border_blue span.select_mark {
        background: #888888;
    }

    div.gridproduct .title {
        font-size: 14px;
        margin-top: 0;
        font-weight: 500;
        line-height: 18px;
        color: #000000DE;
        letter-spacing: 0.35px;
        min-height: 45px;
    }

    .gridproduct {
        position: relative;
    }

    footer section.footer {
        padding: 20px 0;
    }

    span.select_mark {
        display: block;
        text-align: center;
        color: #fff;
        background: #00AFC8;
        border-radius: 3px;
        margin: 10px auto;
        padding: 5px 0;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.32px;
        line-height: 24px;
    }

    #qty {
        display: grid;
        grid-template-columns: 25px 70px !important;
        grid-gap: 10px;
        padding-bottom: 10px;
    }

    div#qty span {
        font-size: 14px;
        font-weight: 500 !important;
        color: #333333 !important;
        line-height: 20px !important;
        letter-spacing: 0.35px !important;
    }

    .number-input {
        border: 1px solid #414042 !important;
        display: -ms-inline-flexbox;
        display: inline-flex;
        background: #fff;
        border-radius: 2px;
        font-weight: 600;
        font-size: 16px;
        line-height: 18px;
        letter-spacing: .4px;
        font-family: Raleway, sans-serif !important;
        max-width: 100px;
        cursor: pointer;
        display: grid;
        grid-template-columns: repeat(3, 23px) !important;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 0 5px;
        width: 100%;
    }

    input::-webkit-textfield-decoration-container {
        display: block !important;
    }

    .number-input button {
        border: none !important;
        background: none !important;
    }

    .number-input input {
        max-width: 40px;
        font-weight: 500;
        font-size: 14px;
        line-height: 19px;
        text-align: center;
        margin: 0 auto;
        display: block;
        width: 100%;
        padding: 0 0px;
        border: none !important;
        outline: none !important;
    }

    .only_ss a.go_back,
    .only_ss a.confirm_button {
        max-width: 300px;
    }

    .only_ss a.go_back {
        margin-bottom: 20px;
    }

    .only_ss #sunscreen .product+span.select_mark {
        background: url("https://cdn.shopify.com/s/files/1/0051/1980/3507/files/add_to_cart-02.png?v=1579681628") no-repeat;
        float: none;
        display: block;
        margin: -15px auto 15px;
        width: 138px;
        height: 45px;
    }

    .only_ss div.gridproduct .title {
        margin-top: 20px
    }

    .only_ss #sunscreen .product.activee+span.select_mark {
        background: url("https://cdn.shopify.com/s/files/1/0051/1980/3507/files/add_to_cart-01.png?v=1579681627") no-repeat;
    }

    .only_ss .hero,
    .only_ss .prods p {
        display: none;
    }

    .only_ss #sunscreen {
        margin-top: 25px;
    }

    .only_ss #sunscreen label {
        display: block;
        text-align: center;
    }

    .prod-quantity {
        width: 200px;
        display: block;
        float: left;
        margin: 0px;
        color: black;
        font-weight: 500;
    }

    .prod-quantity select {
        padding: 5px;
        width: 50px;
        margin: 0 5px;
    }

    .prod-quantity div {
        float: left;
        padding: 5px;
    }

    #freesunscreen {
        max-width: 620px;
        margin: 0px auto 10px;
        font-size: 18px;
        border: 1px solid #1aafc8;
        padding: 10px;
        grid-template-columns: auto 1fr;
        grid-gap: 10px;
        font-weight: 500;
        align-items: center;
        background: #ffff000d;
        box-shadow: 2px 4px 6px #00000063;
    }

    #freesunscreen img {
        max-width: 120px;
    }

    .count {
        float: left;
        margin: 30px 0 0px;
    }

    .amount {
        position: relative;
        text-align: right;
    }

    .amount:before {
        content: "â‚¹";
        position: absolute;
        right: 80px;
        font-weight: bold;
    }

    .ribbon {
        width: 110px;
        height: 56px;
        overflow: hidden;
        position: absolute;
        z-index: 9999;
    }

    /*.ribbon::before,*/
    /*.ribbon::after {*/
    /*    position: absolute;*/
    /*    z-index: -1;*/
    /*    content: '';*/
    /*    display: block;*/
    /*    border: 5px solid #2980b9;*/
    /*}*/
    .ribbon span {
        position: absolute;
        display: block;
        width: 76px;
        padding: 2px 0;
        background-color: #00afc8;
        color: #fff;
        text-transform: uppercase;
        text-align: center;
        font-size: 14px;
        font-weight: 100;
        letter-spacing: 0.28px;
    }

    /* top left*/
    .ribbon-top-left {
        top: 10px;
        left: 0px;
    }

    .ribbon-top-left::before,
    .ribbon-top-left::after {
        border-top-color: transparent;
        border-left-color: transparent;
    }

    .ribbon-top-left::before {
        top: 0px;
        left: 45px;
    }

    .ribbon-top-left::after {
        bottom: 0;
        left: 0;
    }

    .ribbon-top-left span {
        right: 53px;
        top: 7px;
        transform: rotate(-45deg);
    }

    @media(min-height: 800px) {
        #confirmrenewal-single div#new-footer {
            position: fixed;
            width: 100%;
            bottom: 0;
            z-index: 9999;
        }

        .product+span.select_mark {
            margin-top: 30px;
        }

        .prods {
            margin-bottom: 75px !important;
        }
    }

    @media(max-width:767px) {
        .gridproduct label {
            grid-gap: 10px;
        }

        main .logo img {
            max-width: 180px;
            width: 100%;
        }

        div.gridproduct .title {
            min-height: 50px;
        }

        .total_value {
            width: 93% !important;
        }

        #freesunscreen {
            font-size: 16px !important;
        }

        #freesunscreen img {
            max-width: 100px !important;
        }

        .prod-quantity {
            float: right;
            clear: both;
            width: 100px;
            margin-top: 5px;
        }

        .prod-quantity div {
            padding: 5px 0;
        }

        .count {
            clear: both;
            float: right;
            margin-top: 0;
            margin-right: 20px;
        }
    }

    #freeproduct {
        max-width: 620px;
        margin: 10px auto;
        font-size: 18px;
        border: 1px solid #1aafc8;
        padding: 10px 20px;
        grid-template-columns: auto 1fr;
        grid-gap: 15px;
        letter-spacing: 0.28px;
        font-weight: 500;
        align-items: center;
        background: #ffff000d;
    }

    #freeproduct .title {
        font-size: 18px;
        margin-bottom: 5px;
        display: block;
    }

    #freeproduct .price {
        font-size: 15px;
        text-align: center;
        font-weight: 600;
        color: #7b7979;
    }

    #freeproduct ul {
        padding-left: 0;
        margin-left: 0;
        font-weight: 600;
    }

    #freeproduct ul li {
        display: block;
        background: transparent url(https://cdn.shopify.com/s/files/1/2028/2057/files/24px_2.svg?1833208) 0 5px no-repeat padding-box;
        padding-left: 20px;
    }

    #freeproduct .mainCopy {
        font-weight: 500;
        color: #000000bf;
    }

    #freeproduct img {
        max-width: 100px;
    }

    @media(max-width:767px) {
        #freeproduct {
            font-size: 16px !important;
            padding: 10px !important;
            grid-gap: 10px !important;
        }

        #freeproduct img {
            max-width: 100px !important;
        }
    }

    .parent {
        cursor: pointer;
    }

    @media (max-width: 991px) {
        .baner {
            line-height: inherit !important;
            background-size: inherit;
            height: auto;
            background-color: #71e9fa;
            padding: 15px 0;
        }

        .exclusiv {
            display: block !important;
        }

        .arrow1 {
            display: none;
        }
    }

    .parent {
        display: grid;
        grid-template-columns: 125px 1fr;
        max-width: 400px;
        width: 100%;
        margin: 0 auto;

    }

    #pointer {
        position: relative;
        background: #f9eda5;
        padding: 8px 15px 8px 5px;
        padding-left: 5px;
    }

    #pointer1 {
        position: relative;
        background: #00afc8;
        padding: 5px 10px;
        overflow: visible;
        z-index: 9999;
    }

    #pointer1 span {
        display: inline-block;
        font-size: 15px;
        color: #fff;
        font-weight: 600;
        line-height: 18px;
        letter-spacing: 0.27px;
    }

    div#pointer1:after {
        content: none;
        position: absolute;
        right: -3px;
        bottom: 0;
        width: 0;
        height: 0;
        border-left: 16px solid #e63030;
        border-top: 38px solid #71e9fa;
        border-bottom: 36px solid #71e9fa;
        z-index: -1;
    }

    span.get {
        display: block;
        font-size: 15px;
        font-weight: 900;
        line-height: 24px;
    }

    span.small {
        font-size: 8px !important;
        font-weight: 900 !important;
    }

    span.price {
        font-size: 22px !important;
        line-height: 24px;
        letter-spacing: 0.4px;
    }

    div#pointer span {
        font-size: 15px;
        font-weight: 900;
        line-height: 24px;
        letter-spacing: 0.27px;
        display: inline;
    }

    a.ks2 {
        display: inline-block;
        padding: 0px 7px;
        border-radius: 30px;
        font-weight: 800;
        letter-spacing: 0.5px;
        color: #e63030;
        font-size: 12px !important;
        line-height: 25px;
        text-decoration: underline;
    }

    @media(min-width: 769px) {
        .parent {
            display: grid;
            grid-template-columns: 1fr 1fr;
            max-width: 100%;
            width: 100%;
            margin: 0 auto;
            background: #e63030 !important;
        }

        #pointer1 span {
            font-size: 18px;
            padding-top: 5px;
        }

        div#pointer1 {
            text-align: right;
            padding: 20px 25px 20px 0;
        }

        span.get {
            display: inline-block;
        }

        div#pointer1:after {
            border-left: 30px solid #e63030;
            border-top: 35px solid #71e9fa;
            border-bottom: 35px solid #71e9fa;
        }

        span.price {
            font-size: 26px !important;
        }

        div#pointer {
            padding: 20px 0 20px 5px;
        }

        div#pointer span {
            line-height: 23px;
        }
    }

    span.close1 {
        position: absolute;
        color: #e63030;
        right: 2px;
        top: 5px;
        font-size: 20px;
        border: 1px solid #e63030;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        text-align: center;
        line-height: 17px;
        font-weight: bold;
        cursor: pointer;
    }

    @media (max-width: 767px) {
        .parent {
            -ms-grid-columns: 118px 1fr !important;
            grid-template-columns: 118px 1fr !important;
            background: #e63030 !important;
        }
    }

    @media (max-width: 360px) {
        .parent {
            -ms-grid-columns: 104px 1fr !important;
            grid-template-columns: 104px 1fr !important;
        }

        #pointer1 span {
            display: inline-block;
            font-size: 14px !important;
        }

        iv#pointer span {
            font-size: 14px !important;
        }

        span.close1 {
            position: absolute;
            color: #e63030;
            right: 2px;
            top: 5px;
            font-size: 18px !important;
            border-radius: 50%;
            width: 17px !important;
            height: 17px !important;
            text-align: center;
            line-height: 13px;
            font-weight: bold;
            cursor: pointer;
        }

        div#pointer span {
            font-size: 14px !important;
        }

        #pointer {
            padding: 8px 15px 14px 5px !important;

        }
    }

    @media (max-width: 320px) {
        .parent {
            -ms-grid-columns: 101px 1fr !important;
            grid-template-columns: 101px 1fr !important;
            background: #e63030 !important;
        }

        #pointer {
            padding: 0px 2px 1px 5px !important;
            padding-left: 5px;
        }

        #pointer1 span {
            display: inline-block;
            font-size: 13px !important;
        }
    }

    #renewal-banner {
        margin: 0px -15px;
        padding: 10px 0;
    }

    .renewal-banner {
        max-width: 680px;
        width: 100%;
        margin: 13px auto;
        background: #f9eda5;
        padding: 15px 15px 20px;
        box-shadow: 0 0 0px 1px #00afc8;
    }

    .renewal-banner .logo {
        max-width: 200px;
    }

    .renewal-banner .banner-img {
        margin-bottom: 10px;
    }

    h2.exclusive-renew {
        font-size: 18px;
        font-weight: 500;
        line-height: 25px;
        color: rgba(0, 0, 0, 0.87);
        margin-bottom: 20px;
        margin-top: 0px;
    }

    a.confirm_button {
        margin: 2px auto !important;
    }

    @media (min-width: 767px) {
        .renewal-banner {
            width: 95% !important;
        }
    }
</style>
<style>
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    /* Firefox */
    input[type=number] {
        -moz-appearance: textfield;
    }

    .total_value {
        display: none;
        grid-template-columns: auto 1fr;
        margin: 0 auto;
        font-size: 12px !important;
        box-shadow: 0 3px 6px #00000029;
        padding: 10px;
        border-radius: 4px;
        max-width: 420px;
        width: 100%;
        justify-content: space-between;
        background: #00afc8;
        align-items: center;
        position: fixed;
        bottom: 5%;
        z-index: 999999 !important;
        left: 0;
        right: 0;
    }

    .cart {
        display: grid;
        grid-template-columns: auto auto;
        align-items: center;
        grid-gap: 15px;
        height: 30px;
        justify-content: center;
    }

    a.confirm_button {
        background: none !important;
        text-align: right !important;
    }

    a.confirm_button img {
        max-width: 20px;
    }

    .cart img {
        max-width: 24px;
    }

    .items {
        color: #fff;
        font-weight: 500;
        border-left: 1px solid;
        height: 30px;
        padding-top: 7px;
        margin-left: 5px;
        padding-left: 10px;
    }

    .slashPrice {
        display: grid;
        grid-template-columns: auto 1fr;
        margin-bottom: 10px;
        grid-gap: 10px;
    }

    .slash s {
        color: #888888 !important;
        font-weight: 500 !important;
    }
</style>